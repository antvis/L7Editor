"use strict";(self.webpackChunk_antv_l7_editor=self.webpackChunk_antv_l7_editor||[]).push([[338],{59370:function(Ve,De,s){s.d(De,{Z:function(){return w}});var pe=s(79384),ie=s(56348),Q=s(54131),se=s(61577),fe=s(22946),I=s(7963),o=s(3711),ke=s(71038),m=s(16514),S=s(92310),Y=s.n(S),H=s(64834),M=s(77617),te=s(88089),le=function(C){for(var q=C.prefixCls,n=C.level,de=C.isStart,B=C.isEnd,ue="".concat(q,"-indent-unit"),d=[],f=0;f<n;f+=1)d.push(M.createElement("span",{key:f,className:Y()(ue,(0,m.Z)((0,m.Z)({},"".concat(ue,"-start"),de[f]),"".concat(ue,"-end"),B[f]))}));return M.createElement("span",{"aria-hidden":"true",className:"".concat(q,"-indent")},d)},A=M.memo(le),ye=s(29834),ne=s(52118),ce=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],re="open",i="close",y="---",P=function(F){(0,o.Z)(q,F);var C=(0,ke.Z)(q);function q(){var n;(0,se.Z)(this,q);for(var de=arguments.length,B=new Array(de),ue=0;ue<de;ue++)B[ue]=arguments[ue];return n=C.call.apply(C,[this].concat(B)),(0,m.Z)((0,I.Z)(n),"state",{dragNodeHighlight:!1}),(0,m.Z)((0,I.Z)(n),"selectHandle",void 0),(0,m.Z)((0,I.Z)(n),"cacheIndent",void 0),(0,m.Z)((0,I.Z)(n),"onSelectorClick",function(d){var f=n.props.context.onNodeClick;f(d,(0,ne.F)(n.props)),n.isSelectable()?n.onSelect(d):n.onCheck(d)}),(0,m.Z)((0,I.Z)(n),"onSelectorDoubleClick",function(d){var f=n.props.context.onNodeDoubleClick;f(d,(0,ne.F)(n.props))}),(0,m.Z)((0,I.Z)(n),"onSelect",function(d){if(!n.isDisabled()){var f=n.props.context.onNodeSelect;f(d,(0,ne.F)(n.props))}}),(0,m.Z)((0,I.Z)(n),"onCheck",function(d){if(!n.isDisabled()){var f=n.props,L=f.disableCheckbox,$=f.checked,z=n.props.context.onNodeCheck;if(!(!n.isCheckable()||L)){var Ee=!$;z(d,(0,ne.F)(n.props),Ee)}}}),(0,m.Z)((0,I.Z)(n),"onMouseEnter",function(d){var f=n.props.context.onNodeMouseEnter;f(d,(0,ne.F)(n.props))}),(0,m.Z)((0,I.Z)(n),"onMouseLeave",function(d){var f=n.props.context.onNodeMouseLeave;f(d,(0,ne.F)(n.props))}),(0,m.Z)((0,I.Z)(n),"onContextMenu",function(d){var f=n.props.context.onNodeContextMenu;f(d,(0,ne.F)(n.props))}),(0,m.Z)((0,I.Z)(n),"onDragStart",function(d){var f=n.props.context.onNodeDragStart;d.stopPropagation(),n.setState({dragNodeHighlight:!0}),f(d,(0,I.Z)(n));try{d.dataTransfer.setData("text/plain","")}catch(L){}}),(0,m.Z)((0,I.Z)(n),"onDragEnter",function(d){var f=n.props.context.onNodeDragEnter;d.preventDefault(),d.stopPropagation(),f(d,(0,I.Z)(n))}),(0,m.Z)((0,I.Z)(n),"onDragOver",function(d){var f=n.props.context.onNodeDragOver;d.preventDefault(),d.stopPropagation(),f(d,(0,I.Z)(n))}),(0,m.Z)((0,I.Z)(n),"onDragLeave",function(d){var f=n.props.context.onNodeDragLeave;d.stopPropagation(),f(d,(0,I.Z)(n))}),(0,m.Z)((0,I.Z)(n),"onDragEnd",function(d){var f=n.props.context.onNodeDragEnd;d.stopPropagation(),n.setState({dragNodeHighlight:!1}),f(d,(0,I.Z)(n))}),(0,m.Z)((0,I.Z)(n),"onDrop",function(d){var f=n.props.context.onNodeDrop;d.preventDefault(),d.stopPropagation(),n.setState({dragNodeHighlight:!1}),f(d,(0,I.Z)(n))}),(0,m.Z)((0,I.Z)(n),"onExpand",function(d){var f=n.props,L=f.loading,$=f.context.onNodeExpand;L||$(d,(0,ne.F)(n.props))}),(0,m.Z)((0,I.Z)(n),"setSelectHandle",function(d){n.selectHandle=d}),(0,m.Z)((0,I.Z)(n),"getNodeState",function(){var d=n.props.expanded;return n.isLeaf()?null:d?re:i}),(0,m.Z)((0,I.Z)(n),"hasChildren",function(){var d=n.props.eventKey,f=n.props.context.keyEntities,L=(0,ye.Z)(f,d)||{},$=L.children;return!!($||[]).length}),(0,m.Z)((0,I.Z)(n),"isLeaf",function(){var d=n.props,f=d.isLeaf,L=d.loaded,$=n.props.context.loadData,z=n.hasChildren();return f===!1?!1:f||!$&&!z||$&&L&&!z}),(0,m.Z)((0,I.Z)(n),"isDisabled",function(){var d=n.props.disabled,f=n.props.context.disabled;return!!(f||d)}),(0,m.Z)((0,I.Z)(n),"isCheckable",function(){var d=n.props.checkable,f=n.props.context.checkable;return!f||d===!1?!1:f}),(0,m.Z)((0,I.Z)(n),"syncLoadData",function(d){var f=d.expanded,L=d.loading,$=d.loaded,z=n.props.context,Ee=z.loadData,Se=z.onNodeLoad;L||Ee&&f&&!n.isLeaf()&&!n.hasChildren()&&!$&&Se((0,ne.F)(n.props))}),(0,m.Z)((0,I.Z)(n),"isDraggable",function(){var d=n.props,f=d.data,L=d.context.draggable;return!!(L&&(!L.nodeDraggable||L.nodeDraggable(f)))}),(0,m.Z)((0,I.Z)(n),"renderDragHandler",function(){var d=n.props.context,f=d.draggable,L=d.prefixCls;return f!=null&&f.icon?M.createElement("span",{className:"".concat(L,"-draggable-icon")},f.icon):null}),(0,m.Z)((0,I.Z)(n),"renderSwitcherIconDom",function(d){var f=n.props.switcherIcon,L=n.props.context.switcherIcon,$=f||L;return typeof $=="function"?$((0,Q.Z)((0,Q.Z)({},n.props),{},{isLeaf:d})):$}),(0,m.Z)((0,I.Z)(n),"renderSwitcher",function(){var d=n.props.expanded,f=n.props.context.prefixCls;if(n.isLeaf()){var L=n.renderSwitcherIconDom(!0);return L!==!1?M.createElement("span",{className:Y()("".concat(f,"-switcher"),"".concat(f,"-switcher-noop"))},L):null}var $=Y()("".concat(f,"-switcher"),"".concat(f,"-switcher_").concat(d?re:i)),z=n.renderSwitcherIconDom(!1);return z!==!1?M.createElement("span",{onClick:n.onExpand,className:$},z):null}),(0,m.Z)((0,I.Z)(n),"renderCheckbox",function(){var d=n.props,f=d.checked,L=d.halfChecked,$=d.disableCheckbox,z=n.props.context.prefixCls,Ee=n.isDisabled(),Se=n.isCheckable();if(!Se)return null;var J=typeof Se!="boolean"?Se:null;return M.createElement("span",{className:Y()("".concat(z,"-checkbox"),f&&"".concat(z,"-checkbox-checked"),!f&&L&&"".concat(z,"-checkbox-indeterminate"),(Ee||$)&&"".concat(z,"-checkbox-disabled")),onClick:n.onCheck},J)}),(0,m.Z)((0,I.Z)(n),"renderIcon",function(){var d=n.props.loading,f=n.props.context.prefixCls;return M.createElement("span",{className:Y()("".concat(f,"-iconEle"),"".concat(f,"-icon__").concat(n.getNodeState()||"docu"),d&&"".concat(f,"-icon_loading"))})}),(0,m.Z)((0,I.Z)(n),"renderSelector",function(){var d=n.state.dragNodeHighlight,f=n.props,L=f.title,$=L===void 0?y:L,z=f.selected,Ee=f.icon,Se=f.loading,J=f.data,Ne=n.props.context,Ke=Ne.prefixCls,He=Ne.showIcon,Be=Ne.icon,Ge=Ne.loadData,oe=Ne.titleRender,Le=n.isDisabled(),We="".concat(Ke,"-node-content-wrapper"),h;if(He){var R=Ee||Be;h=R?M.createElement("span",{className:Y()("".concat(Ke,"-iconEle"),"".concat(Ke,"-icon__customize"))},typeof R=="function"?R(n.props):R):n.renderIcon()}else Ge&&Se&&(h=n.renderIcon());var D;typeof $=="function"?D=$(J):oe?D=oe(J):D=$;var b=M.createElement("span",{className:"".concat(Ke,"-title")},D);return M.createElement("span",{ref:n.setSelectHandle,title:typeof $=="string"?$:"",className:Y()("".concat(We),"".concat(We,"-").concat(n.getNodeState()||"normal"),!Le&&(z||d)&&"".concat(Ke,"-node-selected")),onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onContextMenu:n.onContextMenu,onClick:n.onSelectorClick,onDoubleClick:n.onSelectorDoubleClick},h,b,n.renderDropIndicator())}),(0,m.Z)((0,I.Z)(n),"renderDropIndicator",function(){var d=n.props,f=d.disabled,L=d.eventKey,$=n.props.context,z=$.draggable,Ee=$.dropLevelOffset,Se=$.dropPosition,J=$.prefixCls,Ne=$.indent,Ke=$.dropIndicatorRender,He=$.dragOverNodeKey,Be=$.direction,Ge=!!z,oe=!f&&Ge&&He===L,Le=Ne!=null?Ne:n.cacheIndent;return n.cacheIndent=Ne,oe?Ke({dropPosition:Se,dropLevelOffset:Ee,indent:Le,prefixCls:J,direction:Be}):null}),n}return(0,fe.Z)(q,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var de=this.props.selectable,B=this.props.context.selectable;return typeof de=="boolean"?de:B}},{key:"render",value:function(){var de,B=this.props,ue=B.eventKey,d=B.className,f=B.style,L=B.dragOver,$=B.dragOverGapTop,z=B.dragOverGapBottom,Ee=B.isLeaf,Se=B.isStart,J=B.isEnd,Ne=B.expanded,Ke=B.selected,He=B.checked,Be=B.halfChecked,Ge=B.loading,oe=B.domRef,Le=B.active,We=B.data,h=B.onMouseMove,R=B.selectable,D=(0,ie.Z)(B,ce),b=this.props.context,l=b.prefixCls,p=b.filterTreeNode,E=b.keyEntities,e=b.dropContainerKey,u=b.dropTargetKey,O=b.draggingNodeKey,x=this.isDisabled(),t=(0,H.Z)(D,{aria:!0,data:!0}),a=(0,ye.Z)(E,ue)||{},r=a.level,c=J[J.length-1],v=this.isDraggable(),g=!x&&v,Z=O===ue,N=R!==void 0?{"aria-selected":!!R}:void 0;return M.createElement("div",(0,pe.Z)({ref:oe,className:Y()(d,"".concat(l,"-treenode"),(de={},(0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)(de,"".concat(l,"-treenode-disabled"),x),"".concat(l,"-treenode-switcher-").concat(Ne?"open":"close"),!Ee),"".concat(l,"-treenode-checkbox-checked"),He),"".concat(l,"-treenode-checkbox-indeterminate"),Be),"".concat(l,"-treenode-selected"),Ke),"".concat(l,"-treenode-loading"),Ge),"".concat(l,"-treenode-active"),Le),"".concat(l,"-treenode-leaf-last"),c),"".concat(l,"-treenode-draggable"),v),"dragging",Z),(0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)(de,"drop-target",u===ue),"drop-container",e===ue),"drag-over",!x&&L),"drag-over-gap-top",!x&&$),"drag-over-gap-bottom",!x&&z),"filter-node",p&&p((0,ne.F)(this.props))))),style:f,draggable:g,"aria-grabbed":Z,onDragStart:g?this.onDragStart:void 0,onDragEnter:v?this.onDragEnter:void 0,onDragOver:v?this.onDragOver:void 0,onDragLeave:v?this.onDragLeave:void 0,onDrop:v?this.onDrop:void 0,onDragEnd:v?this.onDragEnd:void 0,onMouseMove:h},N,t),M.createElement(A,{prefixCls:l,level:r,isStart:Se,isEnd:J}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),q}(M.Component),_=function(C){return M.createElement(te.k.Consumer,null,function(q){return M.createElement(P,(0,pe.Z)({},C,{context:q}))})};_.displayName="TreeNode",_.isTreeNode=1;var w=_},88089:function(Ve,De,s){s.d(De,{k:function(){return ie}});var pe=s(77617),ie=pe.createContext(null)},85338:function(Ve,De,s){s.d(De,{O:function(){return w.Z},Z:function(){return b}});var pe=s(79384),ie=s(13255),Q=s(54131),se=s(49397),fe=s(61577),I=s(22946),o=s(7963),ke=s(3711),m=s(71038),S=s(16514),Y=s(92310),H=s.n(Y),M=s(39193),te=s(64834),le=s(32188),A=s(77617),ye=s(88089);function ne(l){var p=l.dropPosition,E=l.dropLevelOffset,e=l.indent,u={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(p){case-1:u.top=0,u.left=-E*e;break;case 1:u.bottom=0,u.left=-E*e;break;case 0:u.bottom=0,u.left=e;break}return A.createElement("div",{style:u})}function ce(l){if(l==null)throw new TypeError("Cannot destructure "+l)}var re=s(35372),i=s(56348),y=s(64693),P=s(39798),_=s(44516),w=s(59370);function F(l,p){var E=A.useState(!1),e=(0,re.Z)(E,2),u=e[0],O=e[1];(0,y.Z)(function(){if(u)return l(),function(){p()}},[u]),(0,y.Z)(function(){return O(!0),function(){O(!1)}},[])}var C=s(52118),q=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],n=function(p,E){var e=p.className,u=p.style,O=p.motion,x=p.motionNodes,t=p.motionType,a=p.onMotionStart,r=p.onMotionEnd,c=p.active,v=p.treeNodeRequiredProps,g=(0,i.Z)(p,q),Z=A.useState(!0),N=(0,re.Z)(Z,2),U=N[0],K=N[1],k=A.useContext(ye.k),ee=k.prefixCls,T=x&&t!=="hide";(0,y.Z)(function(){x&&T!==U&&K(T)},[x]);var W=function(){x&&a()},j=A.useRef(!1),G=function(){x&&!j.current&&(j.current=!0,r())};F(W,G);var ve=function(ae){T===ae&&G()};return x?A.createElement(_.ZP,(0,pe.Z)({ref:E,visible:U},O,{motionAppear:t==="show",onVisibleChanged:ve}),function(ge,ae){var Ze=ge.className,Ce=ge.style;return A.createElement("div",{ref:ae,className:H()("".concat(ee,"-treenode-motion"),Ze),style:Ce},x.map(function(he){var Pe=Object.assign({},(ce(he.data),he.data)),Me=he.title,Ie=he.key,Fe=he.isStart,Oe=he.isEnd;delete Pe.children;var we=(0,C.H8)(Ie,v);return A.createElement(w.Z,(0,pe.Z)({},Pe,we,{title:Me,active:c,data:he.data,key:Ie,isStart:Fe,isEnd:Oe}))}))}):A.createElement(w.Z,(0,pe.Z)({domRef:E,className:e,style:u},g,{active:c}))};n.displayName="MotionTreeNode";var de=A.forwardRef(n),B=de;function ue(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],E=l.length,e=p.length;if(Math.abs(E-e)!==1)return{add:!1,key:null};function u(O,x){var t=new Map;O.forEach(function(r){t.set(r,!0)});var a=x.filter(function(r){return!t.has(r)});return a.length===1?a[0]:null}return E<e?{add:!0,key:u(l,p)}:{add:!1,key:u(p,l)}}function d(l,p,E){var e=l.findIndex(function(t){return t.key===E}),u=l[e+1],O=p.findIndex(function(t){return t.key===E});if(u){var x=p.findIndex(function(t){return t.key===u.key});return p.slice(O+1,x)}return p.slice(O+1)}var f=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],L={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},$=function(){},z="RC_TREE_MOTION_".concat(Math.random()),Ee={key:z},Se={key:z,level:0,index:0,pos:"0",node:Ee,nodes:[Ee]},J={parent:null,children:[],pos:Se.pos,data:Ee,title:null,key:z,isStart:[],isEnd:[]};function Ne(l,p,E,e){return p===!1||!E?l:l.slice(0,Math.ceil(E/e)+1)}function Ke(l){var p=l.key,E=l.pos;return(0,C.km)(p,E)}function He(l){for(var p=String(l.data.key),E=l;E.parent;)E=E.parent,p="".concat(E.data.key," > ").concat(p);return p}var Be=A.forwardRef(function(l,p){var E=l.prefixCls,e=l.data,u=l.selectable,O=l.checkable,x=l.expandedKeys,t=l.selectedKeys,a=l.checkedKeys,r=l.loadedKeys,c=l.loadingKeys,v=l.halfCheckedKeys,g=l.keyEntities,Z=l.disabled,N=l.dragging,U=l.dragOverNodeKey,K=l.dropPosition,k=l.motion,ee=l.height,T=l.itemHeight,W=l.virtual,j=l.focusable,G=l.activeItem,ve=l.focused,ge=l.tabIndex,ae=l.onKeyDown,Ze=l.onFocus,Ce=l.onBlur,he=l.onActiveChange,Pe=l.onListChangeStart,Me=l.onListChangeEnd,Ie=(0,i.Z)(l,f),Fe=A.useRef(null),Oe=A.useRef(null);A.useImperativeHandle(p,function(){return{scrollTo:function(je){Fe.current.scrollTo(je)},getIndentWidth:function(){return Oe.current.offsetWidth}}});var we=A.useState(x),Ye=(0,re.Z)(we,2),nt=Ye[0],rt=Ye[1],st=A.useState(e),ze=(0,re.Z)(st,2),Re=ze[0],$e=ze[1],be=A.useState(e),Te=(0,re.Z)(be,2),Ue=Te[0],Xe=Te[1],Je=A.useState([]),lt=(0,re.Z)(Je,2),yt=lt[0],ft=lt[1],mt=A.useState(null),qe=(0,re.Z)(mt,2),vt=qe[0],at=qe[1],ot=A.useRef(e);ot.current=e;function ht(){var xe=ot.current;$e(xe),Xe(xe),ft([]),at(null),Me()}(0,y.Z)(function(){rt(x);var xe=ue(nt,x);if(xe.key!==null)if(xe.add){var je=Re.findIndex(function(pt){var ct=pt.key;return ct===xe.key}),et=Ne(d(Re,e,xe.key),W,ee,T),dt=Re.slice();dt.splice(je+1,0,J),Xe(dt),ft(et),at("show")}else{var tt=e.findIndex(function(pt){var ct=pt.key;return ct===xe.key}),Ae=Ne(d(e,Re,xe.key),W,ee,T),gt=e.slice();gt.splice(tt+1,0,J),Xe(gt),ft(Ae),at("hide")}else Re!==e&&($e(e),Xe(e))},[x,e]),A.useEffect(function(){N||ht()},[N]);var Qe=k?Ue:e,it={expandedKeys:x,selectedKeys:t,loadedKeys:r,loadingKeys:c,checkedKeys:a,halfCheckedKeys:v,dragOverNodeKey:U,dropPosition:K,keyEntities:g};return A.createElement(A.Fragment,null,ve&&G&&A.createElement("span",{style:L,"aria-live":"assertive"},He(G)),A.createElement("div",null,A.createElement("input",{style:L,disabled:j===!1||Z,tabIndex:j!==!1?ge:null,onKeyDown:ae,onFocus:Ze,onBlur:Ce,value:"",onChange:$,"aria-label":"for screen reader"})),A.createElement("div",{className:"".concat(E,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},A.createElement("div",{className:"".concat(E,"-indent")},A.createElement("div",{ref:Oe,className:"".concat(E,"-indent-unit")}))),A.createElement(P.Z,(0,pe.Z)({},Ie,{data:Qe,itemKey:Ke,height:ee,fullHeight:!1,virtual:W,itemHeight:T,prefixCls:"".concat(E,"-list"),ref:Fe,onVisibleChange:function(je,et){var dt=new Set(je),tt=et.filter(function(Ae){return!dt.has(Ae)});tt.some(function(Ae){return Ke(Ae)===z})&&ht()}}),function(xe){var je=xe.pos,et=Object.assign({},(ce(xe.data),xe.data)),dt=xe.title,tt=xe.key,Ae=xe.isStart,gt=xe.isEnd,pt=(0,C.km)(tt,je);delete et.key,delete et.children;var ct=(0,C.H8)(pt,it);return A.createElement(B,(0,pe.Z)({},et,ct,{title:dt,active:!!G&&tt===G.key,pos:je,data:xe.data,isStart:Ae,isEnd:gt,motion:k,motionNodes:tt===z?yt:null,motionType:vt,onMotionStart:Pe,onMotionEnd:ht,treeNodeRequiredProps:it,onMouseMove:function(){he(null)}}))}))});Be.displayName="NodeList";var Ge=Be,oe=s(62521),Le=s(76457),We=s(29834),h=10,R=function(l){(0,ke.Z)(E,l);var p=(0,m.Z)(E);function E(){var e;(0,fe.Z)(this,E);for(var u=arguments.length,O=new Array(u),x=0;x<u;x++)O[x]=arguments[x];return e=p.call.apply(p,[this].concat(O)),(0,S.Z)((0,o.Z)(e),"destroyed",!1),(0,S.Z)((0,o.Z)(e),"delayedDragEnterLogic",void 0),(0,S.Z)((0,o.Z)(e),"loadingRetryTimes",{}),(0,S.Z)((0,o.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,C.w$)()}),(0,S.Z)((0,o.Z)(e),"dragStartMousePosition",null),(0,S.Z)((0,o.Z)(e),"dragNode",void 0),(0,S.Z)((0,o.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,S.Z)((0,o.Z)(e),"listRef",A.createRef()),(0,S.Z)((0,o.Z)(e),"onNodeDragStart",function(t,a){var r=e.state,c=r.expandedKeys,v=r.keyEntities,g=e.props.onDragStart,Z=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var N=(0,oe._5)(c,Z);e.setState({draggingNodeKey:Z,dragChildrenKeys:(0,oe.wA)(Z,v),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(N),window.addEventListener("dragend",e.onWindowDragEnd),g==null||g({event:t,node:(0,C.F)(a.props)})}),(0,S.Z)((0,o.Z)(e),"onNodeDragEnter",function(t,a){var r=e.state,c=r.expandedKeys,v=r.keyEntities,g=r.dragChildrenKeys,Z=r.flattenNodes,N=r.indent,U=e.props,K=U.onDragEnter,k=U.onExpand,ee=U.allowDrop,T=U.direction,W=a.props,j=W.pos,G=W.eventKey,ve=(0,o.Z)(e),ge=ve.dragNode;if(e.currentMouseOverDroppableNodeKey!==G&&(e.currentMouseOverDroppableNodeKey=G),!ge){e.resetDragState();return}var ae=(0,oe.OM)(t,ge,a,N,e.dragStartMousePosition,ee,Z,v,c,T),Ze=ae.dropPosition,Ce=ae.dropLevelOffset,he=ae.dropTargetKey,Pe=ae.dropContainerKey,Me=ae.dropTargetPos,Ie=ae.dropAllowed,Fe=ae.dragOverNodeKey;if(g.indexOf(he)!==-1||!Ie){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(Oe){clearTimeout(e.delayedDragEnterLogic[Oe])}),ge.props.eventKey!==a.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[j]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var Oe=(0,se.Z)(c),we=(0,We.Z)(v,a.props.eventKey);we&&(we.children||[]).length&&(Oe=(0,oe.L0)(c,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(Oe),k==null||k(Oe,{node:(0,C.F)(a.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),ge.props.eventKey===he&&Ce===0){e.resetDragState();return}e.setState({dragOverNodeKey:Fe,dropPosition:Ze,dropLevelOffset:Ce,dropTargetKey:he,dropContainerKey:Pe,dropTargetPos:Me,dropAllowed:Ie}),K==null||K({event:t,node:(0,C.F)(a.props),expandedKeys:c})}),(0,S.Z)((0,o.Z)(e),"onNodeDragOver",function(t,a){var r=e.state,c=r.dragChildrenKeys,v=r.flattenNodes,g=r.keyEntities,Z=r.expandedKeys,N=r.indent,U=e.props,K=U.onDragOver,k=U.allowDrop,ee=U.direction,T=(0,o.Z)(e),W=T.dragNode;if(W){var j=(0,oe.OM)(t,W,a,N,e.dragStartMousePosition,k,v,g,Z,ee),G=j.dropPosition,ve=j.dropLevelOffset,ge=j.dropTargetKey,ae=j.dropContainerKey,Ze=j.dropAllowed,Ce=j.dropTargetPos,he=j.dragOverNodeKey;c.indexOf(ge)!==-1||!Ze||(W.props.eventKey===ge&&ve===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():G===e.state.dropPosition&&ve===e.state.dropLevelOffset&&ge===e.state.dropTargetKey&&ae===e.state.dropContainerKey&&Ce===e.state.dropTargetPos&&Ze===e.state.dropAllowed&&he===e.state.dragOverNodeKey||e.setState({dropPosition:G,dropLevelOffset:ve,dropTargetKey:ge,dropContainerKey:ae,dropTargetPos:Ce,dropAllowed:Ze,dragOverNodeKey:he}),K==null||K({event:t,node:(0,C.F)(a.props)}))}}),(0,S.Z)((0,o.Z)(e),"onNodeDragLeave",function(t,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:t,node:(0,C.F)(a.props)})}),(0,S.Z)((0,o.Z)(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,S.Z)((0,o.Z)(e),"onNodeDragEnd",function(t,a){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:t,node:(0,C.F)(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,S.Z)((0,o.Z)(e),"onNodeDrop",function(t,a){var r,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=e.state,g=v.dragChildrenKeys,Z=v.dropPosition,N=v.dropTargetKey,U=v.dropTargetPos,K=v.dropAllowed;if(K){var k=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),N!==null){var ee=(0,Q.Z)((0,Q.Z)({},(0,C.H8)(N,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===N,data:(0,We.Z)(e.state.keyEntities,N).node}),T=g.indexOf(N)!==-1;(0,le.ZP)(!T,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var W=(0,oe.yx)(U),j={event:t,node:(0,C.F)(ee),dragNode:e.dragNode?(0,C.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(g),dropToGap:Z!==0,dropPosition:Z+Number(W[W.length-1])};c||k==null||k(j),e.dragNode=null}}}),(0,S.Z)((0,o.Z)(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,S.Z)((0,o.Z)(e),"triggerExpandActionExpand",function(t,a){var r=e.state,c=r.expandedKeys,v=r.flattenNodes,g=a.expanded,Z=a.key,N=a.isLeaf;if(!(N||t.shiftKey||t.metaKey||t.ctrlKey)){var U=v.filter(function(k){return k.key===Z})[0],K=(0,C.F)((0,Q.Z)((0,Q.Z)({},(0,C.H8)(Z,e.getTreeNodeRequiredProps())),{},{data:U.data}));e.setExpandedKeys(g?(0,oe._5)(c,Z):(0,oe.L0)(c,Z)),e.onNodeExpand(t,K)}}),(0,S.Z)((0,o.Z)(e),"onNodeClick",function(t,a){var r=e.props,c=r.onClick,v=r.expandAction;v==="click"&&e.triggerExpandActionExpand(t,a),c==null||c(t,a)}),(0,S.Z)((0,o.Z)(e),"onNodeDoubleClick",function(t,a){var r=e.props,c=r.onDoubleClick,v=r.expandAction;v==="doubleClick"&&e.triggerExpandActionExpand(t,a),c==null||c(t,a)}),(0,S.Z)((0,o.Z)(e),"onNodeSelect",function(t,a){var r=e.state.selectedKeys,c=e.state,v=c.keyEntities,g=c.fieldNames,Z=e.props,N=Z.onSelect,U=Z.multiple,K=a.selected,k=a[g.key],ee=!K;ee?U?r=(0,oe.L0)(r,k):r=[k]:r=(0,oe._5)(r,k);var T=r.map(function(W){var j=(0,We.Z)(v,W);return j?j.node:null}).filter(function(W){return W});e.setUncontrolledState({selectedKeys:r}),N==null||N(r,{event:"select",selected:ee,node:a,selectedNodes:T,nativeEvent:t.nativeEvent})}),(0,S.Z)((0,o.Z)(e),"onNodeCheck",function(t,a,r){var c=e.state,v=c.keyEntities,g=c.checkedKeys,Z=c.halfCheckedKeys,N=e.props,U=N.checkStrictly,K=N.onCheck,k=a.key,ee,T={event:"check",node:a,checked:r,nativeEvent:t.nativeEvent};if(U){var W=r?(0,oe.L0)(g,k):(0,oe._5)(g,k),j=(0,oe._5)(Z,k);ee={checked:W,halfChecked:j},T.checkedNodes=W.map(function(Ce){return(0,We.Z)(v,Ce)}).filter(function(Ce){return Ce}).map(function(Ce){return Ce.node}),e.setUncontrolledState({checkedKeys:W})}else{var G=(0,Le.S)([].concat((0,se.Z)(g),[k]),!0,v),ve=G.checkedKeys,ge=G.halfCheckedKeys;if(!r){var ae=new Set(ve);ae.delete(k);var Ze=(0,Le.S)(Array.from(ae),{checked:!1,halfCheckedKeys:ge},v);ve=Ze.checkedKeys,ge=Ze.halfCheckedKeys}ee=ve,T.checkedNodes=[],T.checkedNodesPositions=[],T.halfCheckedKeys=ge,ve.forEach(function(Ce){var he=(0,We.Z)(v,Ce);if(he){var Pe=he.node,Me=he.pos;T.checkedNodes.push(Pe),T.checkedNodesPositions.push({node:Pe,pos:Me})}}),e.setUncontrolledState({checkedKeys:ve},!1,{halfCheckedKeys:ge})}K==null||K(ee,T)}),(0,S.Z)((0,o.Z)(e),"onNodeLoad",function(t){var a=t.key,r=new Promise(function(c,v){e.setState(function(g){var Z=g.loadedKeys,N=Z===void 0?[]:Z,U=g.loadingKeys,K=U===void 0?[]:U,k=e.props,ee=k.loadData,T=k.onLoad;if(!ee||N.indexOf(a)!==-1||K.indexOf(a)!==-1)return null;var W=ee(t);return W.then(function(){var j=e.state.loadedKeys,G=(0,oe.L0)(j,a);T==null||T(G,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:G}),e.setState(function(ve){return{loadingKeys:(0,oe._5)(ve.loadingKeys,a)}}),c()}).catch(function(j){if(e.setState(function(ve){return{loadingKeys:(0,oe._5)(ve.loadingKeys,a)}}),e.loadingRetryTimes[a]=(e.loadingRetryTimes[a]||0)+1,e.loadingRetryTimes[a]>=h){var G=e.state.loadedKeys;(0,le.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,oe.L0)(G,a)}),c()}v(j)}),{loadingKeys:(0,oe.L0)(K,a)}})});return r.catch(function(){}),r}),(0,S.Z)((0,o.Z)(e),"onNodeMouseEnter",function(t,a){var r=e.props.onMouseEnter;r==null||r({event:t,node:a})}),(0,S.Z)((0,o.Z)(e),"onNodeMouseLeave",function(t,a){var r=e.props.onMouseLeave;r==null||r({event:t,node:a})}),(0,S.Z)((0,o.Z)(e),"onNodeContextMenu",function(t,a){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:a}))}),(0,S.Z)((0,o.Z)(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];t==null||t.apply(void 0,r)}),(0,S.Z)((0,o.Z)(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];t==null||t.apply(void 0,r)}),(0,S.Z)((0,o.Z)(e),"getTreeNodeRequiredProps",function(){var t=e.state,a=t.expandedKeys,r=t.selectedKeys,c=t.loadedKeys,v=t.loadingKeys,g=t.checkedKeys,Z=t.halfCheckedKeys,N=t.dragOverNodeKey,U=t.dropPosition,K=t.keyEntities;return{expandedKeys:a||[],selectedKeys:r||[],loadedKeys:c||[],loadingKeys:v||[],checkedKeys:g||[],halfCheckedKeys:Z||[],dragOverNodeKey:N,dropPosition:U,keyEntities:K}}),(0,S.Z)((0,o.Z)(e),"setExpandedKeys",function(t){var a=e.state,r=a.treeData,c=a.fieldNames,v=(0,C.oH)(r,t,c);e.setUncontrolledState({expandedKeys:t,flattenNodes:v},!0)}),(0,S.Z)((0,o.Z)(e),"onNodeExpand",function(t,a){var r=e.state.expandedKeys,c=e.state,v=c.listChanging,g=c.fieldNames,Z=e.props,N=Z.onExpand,U=Z.loadData,K=a.expanded,k=a[g.key];if(!v){var ee=r.indexOf(k),T=!K;if((0,le.ZP)(K&&ee!==-1||!K&&ee===-1,"Expand state not sync with index check"),T?r=(0,oe.L0)(r,k):r=(0,oe._5)(r,k),e.setExpandedKeys(r),N==null||N(r,{node:a,expanded:T,nativeEvent:t.nativeEvent}),T&&U){var W=e.onNodeLoad(a);W&&W.then(function(){var j=(0,C.oH)(e.state.treeData,r,g);e.setUncontrolledState({flattenNodes:j})}).catch(function(){var j=e.state.expandedKeys,G=(0,oe._5)(j,k);e.setExpandedKeys(G)})}}}),(0,S.Z)((0,o.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,S.Z)((0,o.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,S.Z)((0,o.Z)(e),"onActiveChange",function(t){var a=e.state.activeKey,r=e.props,c=r.onActiveChange,v=r.itemScrollOffset,g=v===void 0?0:v;a!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:g}),c==null||c(t))}),(0,S.Z)((0,o.Z)(e),"getActiveItem",function(){var t=e.state,a=t.activeKey,r=t.flattenNodes;return a===null?null:r.find(function(c){var v=c.key;return v===a})||null}),(0,S.Z)((0,o.Z)(e),"offsetActiveKey",function(t){var a=e.state,r=a.flattenNodes,c=a.activeKey,v=r.findIndex(function(N){var U=N.key;return U===c});v===-1&&t<0&&(v=r.length),v=(v+t+r.length)%r.length;var g=r[v];if(g){var Z=g.key;e.onActiveChange(Z)}else e.onActiveChange(null)}),(0,S.Z)((0,o.Z)(e),"onKeyDown",function(t){var a=e.state,r=a.activeKey,c=a.expandedKeys,v=a.checkedKeys,g=a.fieldNames,Z=e.props,N=Z.onKeyDown,U=Z.checkable,K=Z.selectable;switch(t.which){case M.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case M.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var k=e.getActiveItem();if(k&&k.data){var ee=e.getTreeNodeRequiredProps(),T=k.data.isLeaf===!1||!!(k.data[g.children]||[]).length,W=(0,C.F)((0,Q.Z)((0,Q.Z)({},(0,C.H8)(r,ee)),{},{data:k.data,active:!0}));switch(t.which){case M.Z.LEFT:{T&&c.includes(r)?e.onNodeExpand({},W):k.parent&&e.onActiveChange(k.parent.key),t.preventDefault();break}case M.Z.RIGHT:{T&&!c.includes(r)?e.onNodeExpand({},W):k.children&&k.children.length&&e.onActiveChange(k.children[0].key),t.preventDefault();break}case M.Z.ENTER:case M.Z.SPACE:{U&&!W.disabled&&W.checkable!==!1&&!W.disableCheckbox?e.onNodeCheck({},W,!v.includes(r)):!U&&K&&!W.disabled&&W.selectable!==!1&&e.onNodeSelect({},W);break}}}N==null||N(t)}),(0,S.Z)((0,o.Z)(e),"setUncontrolledState",function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var c=!1,v=!0,g={};Object.keys(t).forEach(function(Z){if(Z in e.props){v=!1;return}c=!0,g[Z]=t[Z]}),c&&(!a||v)&&e.setState((0,Q.Z)((0,Q.Z)({},g),r))}}),(0,S.Z)((0,o.Z)(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return(0,I.Z)(E,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var u=this.props,O=u.activeKey,x=u.itemScrollOffset,t=x===void 0?0:x;O!==void 0&&O!==this.state.activeKey&&(this.setState({activeKey:O}),O!==null&&this.scrollTo({key:O,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var u=this.state,O=u.focused,x=u.flattenNodes,t=u.keyEntities,a=u.draggingNodeKey,r=u.activeKey,c=u.dropLevelOffset,v=u.dropContainerKey,g=u.dropTargetKey,Z=u.dropPosition,N=u.dragOverNodeKey,U=u.indent,K=this.props,k=K.prefixCls,ee=K.className,T=K.style,W=K.showLine,j=K.focusable,G=K.tabIndex,ve=G===void 0?0:G,ge=K.selectable,ae=K.showIcon,Ze=K.icon,Ce=K.switcherIcon,he=K.draggable,Pe=K.checkable,Me=K.checkStrictly,Ie=K.disabled,Fe=K.motion,Oe=K.loadData,we=K.filterTreeNode,Ye=K.height,nt=K.itemHeight,rt=K.virtual,st=K.titleRender,ze=K.dropIndicatorRender,Re=K.onContextMenu,$e=K.onScroll,be=K.direction,Te=K.rootClassName,Ue=K.rootStyle,Xe=(0,te.Z)(this.props,{aria:!0,data:!0}),Je;return he&&((0,ie.Z)(he)==="object"?Je=he:typeof he=="function"?Je={nodeDraggable:he}:Je={}),A.createElement(ye.k.Provider,{value:{prefixCls:k,selectable:ge,showIcon:ae,icon:Ze,switcherIcon:Ce,draggable:Je,draggingNodeKey:a,checkable:Pe,checkStrictly:Me,disabled:Ie,keyEntities:t,dropLevelOffset:c,dropContainerKey:v,dropTargetKey:g,dropPosition:Z,dragOverNodeKey:N,indent:U,direction:be,dropIndicatorRender:ze,loadData:Oe,filterTreeNode:we,titleRender:st,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},A.createElement("div",{role:"tree",className:H()(k,ee,Te,(0,S.Z)((0,S.Z)((0,S.Z)({},"".concat(k,"-show-line"),W),"".concat(k,"-focused"),O),"".concat(k,"-active-focused"),r!==null)),style:Ue},A.createElement(Ge,(0,pe.Z)({ref:this.listRef,prefixCls:k,style:T,data:x,disabled:Ie,selectable:ge,checkable:!!Pe,motion:Fe,dragging:a!==null,height:Ye,itemHeight:nt,virtual:rt,focusable:j,focused:O,tabIndex:ve,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Re,onScroll:$e},this.getTreeNodeRequiredProps(),Xe))))}}],[{key:"getDerivedStateFromProps",value:function(u,O){var x=O.prevProps,t={prevProps:u};function a(G){return!x&&G in u||x&&x[G]!==u[G]}var r,c=O.fieldNames;if(a("fieldNames")&&(c=(0,C.w$)(u.fieldNames),t.fieldNames=c),a("treeData")?r=u.treeData:a("children")&&((0,le.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=(0,C.zn)(u.children)),r){t.treeData=r;var v=(0,C.I8)(r,{fieldNames:c});t.keyEntities=(0,Q.Z)((0,S.Z)({},z,Se),v.keyEntities)}var g=t.keyEntities||O.keyEntities;if(a("expandedKeys")||x&&a("autoExpandParent"))t.expandedKeys=u.autoExpandParent||!x&&u.defaultExpandParent?(0,oe.r7)(u.expandedKeys,g):u.expandedKeys;else if(!x&&u.defaultExpandAll){var Z=(0,Q.Z)({},g);delete Z[z],t.expandedKeys=Object.keys(Z).map(function(G){return Z[G].key})}else!x&&u.defaultExpandedKeys&&(t.expandedKeys=u.autoExpandParent||u.defaultExpandParent?(0,oe.r7)(u.defaultExpandedKeys,g):u.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,r||t.expandedKeys){var N=(0,C.oH)(r||O.treeData,t.expandedKeys||O.expandedKeys,c);t.flattenNodes=N}if(u.selectable&&(a("selectedKeys")?t.selectedKeys=(0,oe.BT)(u.selectedKeys,u):!x&&u.defaultSelectedKeys&&(t.selectedKeys=(0,oe.BT)(u.defaultSelectedKeys,u))),u.checkable){var U;if(a("checkedKeys")?U=(0,oe.E6)(u.checkedKeys)||{}:!x&&u.defaultCheckedKeys?U=(0,oe.E6)(u.defaultCheckedKeys)||{}:r&&(U=(0,oe.E6)(u.checkedKeys)||{checkedKeys:O.checkedKeys,halfCheckedKeys:O.halfCheckedKeys}),U){var K=U,k=K.checkedKeys,ee=k===void 0?[]:k,T=K.halfCheckedKeys,W=T===void 0?[]:T;if(!u.checkStrictly){var j=(0,Le.S)(ee,!0,g);ee=j.checkedKeys,W=j.halfCheckedKeys}t.checkedKeys=ee,t.halfCheckedKeys=W}}return a("loadedKeys")&&(t.loadedKeys=u.loadedKeys),t}}]),E}(A.Component);(0,S.Z)(R,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:ne,allowDrop:function(){return!0},expandAction:!1}),(0,S.Z)(R,"TreeNode",w.Z);var D=R,b=D},62521:function(Ve,De,s){s.d(De,{BT:function(){return A},E6:function(){return ce},L0:function(){return S},OM:function(){return le},_5:function(){return m},r7:function(){return re},wA:function(){return H},yx:function(){return Y}});var pe=s(49397),ie=s(13255),Q=s(32188),se=s(77617),fe=s(59370),I=s(29834),o=s(52118),ke=null;function m(i,y){if(!i)return[];var P=i.slice(),_=P.indexOf(y);return _>=0&&P.splice(_,1),P}function S(i,y){var P=(i||[]).slice();return P.indexOf(y)===-1&&P.push(y),P}function Y(i){return i.split("-")}function H(i,y){var P=[],_=(0,I.Z)(y,i);function w(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];F.forEach(function(C){var q=C.key,n=C.children;P.push(q),w(n)})}return w(_.children),P}function M(i){if(i.parent){var y=Y(i.pos);return Number(y[y.length-1])===i.parent.children.length-1}return!1}function te(i){var y=Y(i.pos);return Number(y[y.length-1])===0}function le(i,y,P,_,w,F,C,q,n,de){var B,ue=i.clientX,d=i.clientY,f=i.target.getBoundingClientRect(),L=f.top,$=f.height,z=(de==="rtl"?-1:1)*(((w==null?void 0:w.x)||0)-ue),Ee=(z-12)/_,Se=n.filter(function(l){var p;return(p=q[l])===null||p===void 0||(p=p.children)===null||p===void 0?void 0:p.length}),J=(0,I.Z)(q,P.props.eventKey);if(d<L+$/2){var Ne=C.findIndex(function(l){return l.key===J.key}),Ke=Ne<=0?0:Ne-1,He=C[Ke].key;J=(0,I.Z)(q,He)}var Be=J.key,Ge=J,oe=J.key,Le=0,We=0;if(!Se.includes(Be))for(var h=0;h<Ee&&M(J);h+=1)J=J.parent,We+=1;var R=y.props.data,D=J.node,b=!0;return te(J)&&J.level===0&&d<L+$/2&&F({dragNode:R,dropNode:D,dropPosition:-1})&&J.key===P.props.eventKey?Le=-1:(Ge.children||[]).length&&Se.includes(oe)?F({dragNode:R,dropNode:D,dropPosition:0})?Le=0:b=!1:We===0?Ee>-1.5?F({dragNode:R,dropNode:D,dropPosition:1})?Le=1:b=!1:F({dragNode:R,dropNode:D,dropPosition:0})?Le=0:F({dragNode:R,dropNode:D,dropPosition:1})?Le=1:b=!1:F({dragNode:R,dropNode:D,dropPosition:1})?Le=1:b=!1,{dropPosition:Le,dropLevelOffset:We,dropTargetKey:J.key,dropTargetPos:J.pos,dragOverNodeKey:oe,dropContainerKey:Le===0?null:((B=J.parent)===null||B===void 0?void 0:B.key)||null,dropAllowed:b}}function A(i,y){if(i){var P=y.multiple;return P?i.slice():i.length?[i[0]]:i}}var ye=function(y){return y};function ne(i,y){if(!i)return[];var P=y||{},_=P.processProps,w=_===void 0?ye:_,F=Array.isArray(i)?i:[i];return F.map(function(C){var q=C.children,n=_objectWithoutProperties(C,ke),de=ne(q,y);return React.createElement(TreeNode,_extends({key:n.key},w(n)),de)})}function ce(i){if(!i)return null;var y;if(Array.isArray(i))y={checkedKeys:i,halfCheckedKeys:void 0};else if((0,ie.Z)(i)==="object")y={checkedKeys:i.checked||void 0,halfCheckedKeys:i.halfChecked||void 0};else return(0,Q.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return y}function re(i,y){var P=new Set;function _(w){if(!P.has(w)){var F=(0,I.Z)(y,w);if(F){P.add(w);var C=F.parent,q=F.node;q.disabled||C&&_(C.key)}}}return(i||[]).forEach(function(w){_(w)}),(0,pe.Z)(P)}},76457:function(Ve,De,s){s.d(De,{S:function(){return o}});var pe=s(32188),ie=s(29834);function Q(ke,m){var S=new Set;return ke.forEach(function(Y){m.has(Y)||S.add(Y)}),S}function se(ke){var m=ke||{},S=m.disabled,Y=m.disableCheckbox,H=m.checkable;return!!(S||Y)||H===!1}function fe(ke,m,S,Y){for(var H=new Set(ke),M=new Set,te=0;te<=S;te+=1){var le=m.get(te)||new Set;le.forEach(function(ce){var re=ce.key,i=ce.node,y=ce.children,P=y===void 0?[]:y;H.has(re)&&!Y(i)&&P.filter(function(_){return!Y(_.node)}).forEach(function(_){H.add(_.key)})})}for(var A=new Set,ye=S;ye>=0;ye-=1){var ne=m.get(ye)||new Set;ne.forEach(function(ce){var re=ce.parent,i=ce.node;if(!(Y(i)||!ce.parent||A.has(ce.parent.key))){if(Y(ce.parent.node)){A.add(re.key);return}var y=!0,P=!1;(re.children||[]).filter(function(_){return!Y(_.node)}).forEach(function(_){var w=_.key,F=H.has(w);y&&!F&&(y=!1),!P&&(F||M.has(w))&&(P=!0)}),y&&H.add(re.key),P&&M.add(re.key),A.add(re.key)}})}return{checkedKeys:Array.from(H),halfCheckedKeys:Array.from(Q(M,H))}}function I(ke,m,S,Y,H){for(var M=new Set(ke),te=new Set(m),le=0;le<=Y;le+=1){var A=S.get(le)||new Set;A.forEach(function(re){var i=re.key,y=re.node,P=re.children,_=P===void 0?[]:P;!M.has(i)&&!te.has(i)&&!H(y)&&_.filter(function(w){return!H(w.node)}).forEach(function(w){M.delete(w.key)})})}te=new Set;for(var ye=new Set,ne=Y;ne>=0;ne-=1){var ce=S.get(ne)||new Set;ce.forEach(function(re){var i=re.parent,y=re.node;if(!(H(y)||!re.parent||ye.has(re.parent.key))){if(H(re.parent.node)){ye.add(i.key);return}var P=!0,_=!1;(i.children||[]).filter(function(w){return!H(w.node)}).forEach(function(w){var F=w.key,C=M.has(F);P&&!C&&(P=!1),!_&&(C||te.has(F))&&(_=!0)}),P||M.delete(i.key),_&&te.add(i.key),ye.add(i.key)}})}return{checkedKeys:Array.from(M),halfCheckedKeys:Array.from(Q(te,M))}}function o(ke,m,S,Y){var H=[],M;Y?M=Y:M=se;var te=new Set(ke.filter(function(ne){var ce=!!(0,ie.Z)(S,ne);return ce||H.push(ne),ce})),le=new Map,A=0;Object.keys(S).forEach(function(ne){var ce=S[ne],re=ce.level,i=le.get(re);i||(i=new Set,le.set(re,i)),i.add(ce),A=Math.max(A,re)}),(0,pe.ZP)(!H.length,"Tree missing follow keys: ".concat(H.slice(0,100).map(function(ne){return"'".concat(ne,"'")}).join(", ")));var ye;return m===!0?ye=fe(te,le,A,M):ye=I(te,m.halfCheckedKeys,le,A,M),ye}},29834:function(Ve,De,s){s.d(De,{Z:function(){return pe}});function pe(ie,Q){return ie[Q]}},52118:function(Ve,De,s){s.d(De,{F:function(){return re},H8:function(){return ce},I8:function(){return ne},km:function(){return H},oH:function(){return A},w$:function(){return M},zn:function(){return le}});var pe=s(13255),ie=s(49397),Q=s(54131),se=s(56348),fe=s(6415),I=s(41123),o=s(32188),ke=s(29834),m=["children"];function S(i,y){return"".concat(i,"-").concat(y)}function Y(i){return i&&i.type&&i.type.isTreeNode}function H(i,y){return i!=null?i:y}function M(i){var y=i||{},P=y.title,_=y._title,w=y.key,F=y.children,C=P||"title";return{title:C,_title:_||[C],key:w||"key",children:F||"children"}}function te(i,y){var P=new Map;function _(w){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(w||[]).forEach(function(C){var q=C[y.key],n=C[y.children];warning(q!=null,"Tree node must have a certain key: [".concat(F).concat(q,"]"));var de=String(q);warning(!P.has(de)||q===null||q===void 0,"Same 'key' exist in the Tree: ".concat(de)),P.set(de,!0),_(n,"".concat(F).concat(de," > "))})}_(i)}function le(i){function y(P){var _=(0,fe.Z)(P);return _.map(function(w){if(!Y(w))return(0,o.ZP)(!w,"Tree/TreeNode can only accept TreeNode as children."),null;var F=w.key,C=w.props,q=C.children,n=(0,se.Z)(C,m),de=(0,Q.Z)({key:F},n),B=y(q);return B.length&&(de.children=B),de}).filter(function(w){return w})}return y(i)}function A(i,y,P){var _=M(P),w=_._title,F=_.key,C=_.children,q=new Set(y===!0?[]:y),n=[];function de(B){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return B.map(function(d,f){for(var L=S(ue?ue.pos:"0",f),$=H(d[F],L),z,Ee=0;Ee<w.length;Ee+=1){var Se=w[Ee];if(d[Se]!==void 0){z=d[Se];break}}var J=(0,Q.Z)((0,Q.Z)({},(0,I.Z)(d,[].concat((0,ie.Z)(w),[F,C]))),{},{title:z,key:$,parent:ue,pos:L,children:null,data:d,isStart:[].concat((0,ie.Z)(ue?ue.isStart:[]),[f===0]),isEnd:[].concat((0,ie.Z)(ue?ue.isEnd:[]),[f===B.length-1])});return n.push(J),y===!0||q.has($)?J.children=de(d[C]||[],J):J.children=[],J})}return de(i),n}function ye(i,y,P){var _={};(0,pe.Z)(P)==="object"?_=P:_={externalGetKey:P},_=_||{};var w=_,F=w.childrenPropName,C=w.externalGetKey,q=w.fieldNames,n=M(q),de=n.key,B=n.children,ue=F||B,d;C?typeof C=="string"?d=function($){return $[C]}:typeof C=="function"&&(d=function($){return C($)}):d=function($,z){return H($[de],z)};function f(L,$,z,Ee){var Se=L?L[ue]:i,J=L?S(z.pos,$):"0",Ne=L?[].concat((0,ie.Z)(Ee),[L]):[];if(L){var Ke=d(L,J),He={node:L,index:$,pos:J,key:Ke,parentPos:z.node?z.pos:null,level:z.level+1,nodes:Ne};y(He)}Se&&Se.forEach(function(Be,Ge){f(Be,Ge,{node:L,pos:J,level:z?z.level+1:-1},Ne)})}f(null)}function ne(i){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=y.initWrapper,_=y.processEntity,w=y.onProcessFinished,F=y.externalGetKey,C=y.childrenPropName,q=y.fieldNames,n=arguments.length>2?arguments[2]:void 0,de=F||n,B={},ue={},d={posEntities:B,keyEntities:ue};return P&&(d=P(d)||d),ye(i,function(f){var L=f.node,$=f.index,z=f.pos,Ee=f.key,Se=f.parentPos,J=f.level,Ne=f.nodes,Ke={node:L,nodes:Ne,index:$,key:Ee,pos:z,level:J},He=H(Ee,z);B[z]=Ke,ue[He]=Ke,Ke.parent=B[Se],Ke.parent&&(Ke.parent.children=Ke.parent.children||[],Ke.parent.children.push(Ke)),_&&_(Ke,d)},{externalGetKey:de,childrenPropName:C,fieldNames:q}),w&&w(d),d}function ce(i,y){var P=y.expandedKeys,_=y.selectedKeys,w=y.loadedKeys,F=y.loadingKeys,C=y.checkedKeys,q=y.halfCheckedKeys,n=y.dragOverNodeKey,de=y.dropPosition,B=y.keyEntities,ue=(0,ke.Z)(B,i),d={eventKey:i,expanded:P.indexOf(i)!==-1,selected:_.indexOf(i)!==-1,loaded:w.indexOf(i)!==-1,loading:F.indexOf(i)!==-1,checked:C.indexOf(i)!==-1,halfChecked:q.indexOf(i)!==-1,pos:String(ue?ue.pos:""),dragOver:n===i&&de===0,dragOverGapTop:n===i&&de===-1,dragOverGapBottom:n===i&&de===1};return d}function re(i){var y=i.data,P=i.expanded,_=i.selected,w=i.checked,F=i.loaded,C=i.loading,q=i.halfChecked,n=i.dragOver,de=i.dragOverGapTop,B=i.dragOverGapBottom,ue=i.pos,d=i.active,f=i.eventKey,L=(0,Q.Z)((0,Q.Z)({},y),{},{expanded:P,selected:_,checked:w,loaded:F,loading:C,halfChecked:q,dragOver:n,dragOverGapTop:de,dragOverGapBottom:B,pos:ue,active:d,key:f});return"props"in L||Object.defineProperty(L,"props",{get:function(){return(0,o.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),i}}),L}},46142:function(Ve,De,s){s.d(De,{C8:function(){return ie.Z},t4:function(){return Q.t4},x1:function(){return Q.x1},zX:function(){return pe.Z}});var pe=s(33890),ie=s(89308),Q=s(17763),se=s(1635),fe=s(32188)},64834:function(Ve,De,s){s.d(De,{Z:function(){return ke}});var pe=s(54131),ie=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Q=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,se="".concat(ie," ").concat(Q).split(/[\s\n]+/),fe="aria-",I="data-";function o(m,S){return m.indexOf(S)===0}function ke(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y;S===!1?Y={aria:!0,data:!0,attr:!0}:S===!0?Y={aria:!0}:Y=(0,pe.Z)({},S);var H={};return Object.keys(m).forEach(function(M){(Y.aria&&(M==="role"||o(M,fe))||Y.data&&o(M,I)||Y.attr&&se.includes(M))&&(H[M]=m[M])}),H}},64549:function(Ve,De,s){s.d(De,{Z:function(){return pe}});function pe(ie,Q){for(var se=ie,fe=0;fe<Q.length;fe+=1){if(se==null)return;se=se[Q[fe]]}return se}},1635:function(Ve,De,s){s.d(De,{T:function(){return Y},Z:function(){return o}});var pe=s(13255),ie=s(54131),Q=s(49397),se=s(89514),fe=s(64549);function I(H,M,te,le){if(!M.length)return te;var A=(0,se.Z)(M),ye=A[0],ne=A.slice(1),ce;return!H&&typeof ye=="number"?ce=[]:Array.isArray(H)?ce=(0,Q.Z)(H):ce=(0,ie.Z)({},H),le&&te===void 0&&ne.length===1?delete ce[ye][ne[0]]:ce[ye]=I(ce[ye],ne,te,le),ce}function o(H,M,te){var le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return M.length&&le&&te===void 0&&!(0,fe.Z)(H,M.slice(0,-1))?H:I(H,M,te,le)}function ke(H){return(0,pe.Z)(H)==="object"&&H!==null&&Object.getPrototypeOf(H)===Object.prototype}function m(H){return Array.isArray(H)?[]:{}}var S=typeof Reflect=="undefined"?Object.keys:Reflect.ownKeys;function Y(){for(var H=arguments.length,M=new Array(H),te=0;te<H;te++)M[te]=arguments[te];var le=m(M[0]);return M.forEach(function(A){function ye(ne,ce){var re=new Set(ce),i=(0,fe.Z)(A,ne),y=Array.isArray(i);if(y||ke(i)){if(!re.has(i)){re.add(i);var P=(0,fe.Z)(le,ne);y?le=o(le,ne,[]):(!P||(0,pe.Z)(P)!=="object")&&(le=o(le,ne,m(i))),S(i).forEach(function(_){ye([].concat((0,Q.Z)(ne),[_]),re)})}}else le=o(le,ne,i)}ye([])}),le}},39798:function(Ve,De,s){s.d(De,{Z:function(){return We}});var pe=s(79384),ie=s(54131),Q=s(13255),se=s(35372),fe=s(16514),I=s(56348),o=s(77617),ke=s(79161),m=s(92310),S=s.n(m),Y=s(28647),H=o.forwardRef(function(h,R){var D=h.height,b=h.offsetY,l=h.offsetX,p=h.children,E=h.prefixCls,e=h.onInnerResize,u=h.innerProps,O=h.rtl,x=h.extra,t={},a={display:"flex",flexDirection:"column"};return b!==void 0&&(t={height:D,position:"relative",overflow:"hidden"},a=(0,ie.Z)((0,ie.Z)({},a),{},(0,fe.Z)((0,fe.Z)((0,fe.Z)((0,fe.Z)((0,fe.Z)({transform:"translateY(".concat(b,"px)")},O?"marginRight":"marginLeft",-l),"position","absolute"),"left",0),"right",0),"top",0))),o.createElement("div",{style:t},o.createElement(Y.Z,{onResize:function(c){var v=c.offsetHeight;v&&e&&e()}},o.createElement("div",(0,pe.Z)({style:a,className:S()((0,fe.Z)({},"".concat(E,"-holder-inner"),E)),ref:R},u),p,x)))});H.displayName="Filler";var M=H,te=s(74570);function le(h,R){var D="touches"in h?h.touches[0]:h;return D[R?"pageX":"pageY"]}var A=o.forwardRef(function(h,R){var D=h.prefixCls,b=h.rtl,l=h.scrollOffset,p=h.scrollRange,E=h.onStartMove,e=h.onStopMove,u=h.onScroll,O=h.horizontal,x=h.spinSize,t=h.containerSize,a=h.style,r=h.thumbStyle,c=o.useState(!1),v=(0,se.Z)(c,2),g=v[0],Z=v[1],N=o.useState(null),U=(0,se.Z)(N,2),K=U[0],k=U[1],ee=o.useState(null),T=(0,se.Z)(ee,2),W=T[0],j=T[1],G=!b,ve=o.useRef(),ge=o.useRef(),ae=o.useState(!1),Ze=(0,se.Z)(ae,2),Ce=Ze[0],he=Ze[1],Pe=o.useRef(),Me=function(){clearTimeout(Pe.current),he(!0),Pe.current=setTimeout(function(){he(!1)},3e3)},Ie=p-t||0,Fe=t-x||0,Oe=o.useMemo(function(){if(l===0||Ie===0)return 0;var be=l/Ie;return be*Fe},[l,Ie,Fe]),we=function(Te){Te.stopPropagation(),Te.preventDefault()},Ye=o.useRef({top:Oe,dragging:g,pageY:K,startTop:W});Ye.current={top:Oe,dragging:g,pageY:K,startTop:W};var nt=function(Te){Z(!0),k(le(Te,O)),j(Ye.current.top),E(),Te.stopPropagation(),Te.preventDefault()};o.useEffect(function(){var be=function(Je){Je.preventDefault()},Te=ve.current,Ue=ge.current;return Te.addEventListener("touchstart",be),Ue.addEventListener("touchstart",nt),function(){Te.removeEventListener("touchstart",be),Ue.removeEventListener("touchstart",nt)}},[]);var rt=o.useRef();rt.current=Ie;var st=o.useRef();st.current=Fe,o.useEffect(function(){if(g){var be,Te=function(Je){var lt=Ye.current,yt=lt.dragging,ft=lt.pageY,mt=lt.startTop;if(te.Z.cancel(be),yt){var qe=le(Je,O)-ft,vt=mt;!G&&O?vt-=qe:vt+=qe;var at=rt.current,ot=st.current,ht=ot?vt/ot:0,Qe=Math.ceil(ht*at);Qe=Math.max(Qe,0),Qe=Math.min(Qe,at),be=(0,te.Z)(function(){u(Qe,O)})}},Ue=function(){Z(!1),e()};return window.addEventListener("mousemove",Te),window.addEventListener("touchmove",Te),window.addEventListener("mouseup",Ue),window.addEventListener("touchend",Ue),function(){window.removeEventListener("mousemove",Te),window.removeEventListener("touchmove",Te),window.removeEventListener("mouseup",Ue),window.removeEventListener("touchend",Ue),te.Z.cancel(be)}}},[g]),o.useEffect(function(){Me()},[l]),o.useImperativeHandle(R,function(){return{delayHidden:Me}});var ze="".concat(D,"-scrollbar"),Re={position:"absolute",visibility:Ce?null:"hidden"},$e={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return O?(Re.height=8,Re.left=0,Re.right=0,Re.bottom=0,$e.height="100%",$e.width=x,G?$e.left=Oe:$e.right=Oe):(Re.width=8,Re.top=0,Re.bottom=0,G?Re.right=0:Re.left=0,$e.width="100%",$e.height=x,$e.top=Oe),o.createElement("div",{ref:ve,className:S()(ze,(0,fe.Z)((0,fe.Z)((0,fe.Z)({},"".concat(ze,"-horizontal"),O),"".concat(ze,"-vertical"),!O),"".concat(ze,"-visible"),Ce)),style:(0,ie.Z)((0,ie.Z)({},Re),a),onMouseDown:we,onMouseMove:Me},o.createElement("div",{ref:ge,className:S()("".concat(ze,"-thumb"),(0,fe.Z)({},"".concat(ze,"-thumb-moving"),g)),style:(0,ie.Z)((0,ie.Z)({},$e),r),onMouseDown:nt}))}),ye=A;function ne(h){var R=h.children,D=h.setRef,b=o.useCallback(function(l){D(l)},[]);return o.cloneElement(R,{ref:b})}function ce(h,R,D,b,l,p,E){var e=E.getKey;return h.slice(R,D+1).map(function(u,O){var x=R+O,t=p(u,x,{style:{width:b}}),a=e(u);return o.createElement(ne,{key:a,setRef:function(c){return l(u,c)}},t)})}var re=s(89643),i=s(61577),y=s(22946),P=function(){function h(){(0,i.Z)(this,h),(0,fe.Z)(this,"maps",void 0),(0,fe.Z)(this,"id",0),this.maps=Object.create(null)}return(0,y.Z)(h,[{key:"set",value:function(D,b){this.maps[D]=b,this.id+=1}},{key:"get",value:function(D){return this.maps[D]}}]),h}(),_=P;function w(h,R,D){var b=o.useState(0),l=(0,se.Z)(b,2),p=l[0],E=l[1],e=(0,o.useRef)(new Map),u=(0,o.useRef)(new _),O=(0,o.useRef)();function x(){te.Z.cancel(O.current)}function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;x();var c=function(){e.current.forEach(function(g,Z){if(g&&g.offsetParent){var N=(0,re.Z)(g),U=N.offsetHeight;u.current.get(Z)!==U&&u.current.set(Z,N.offsetHeight)}}),E(function(g){return g+1})};r?c():O.current=(0,te.Z)(c)}function a(r,c){var v=h(r),g=e.current.get(v);c?(e.current.set(v,c),t()):e.current.delete(v),!g!=!c&&(c?R==null||R(r):D==null||D(r))}return(0,o.useEffect)(function(){return x},[]),[a,t,u.current,p]}var F=s(64693),C=s(46142),q=10;function n(h,R,D,b,l,p,E,e){var u=o.useRef(),O=o.useState(null),x=(0,se.Z)(O,2),t=x[0],a=x[1];return(0,F.Z)(function(){if(t&&t.times<q){if(!h.current){a(function(Ie){return(0,ie.Z)({},Ie)});return}p();var r=t.targetAlign,c=t.originAlign,v=t.index,g=t.offset,Z=h.current.clientHeight,N=!1,U=r,K=null;if(Z){for(var k=r||c,ee=0,T=0,W=0,j=Math.min(R.length-1,v),G=0;G<=j;G+=1){var ve=l(R[G]);T=ee;var ge=D.get(ve);W=T+(ge===void 0?b:ge),ee=W}for(var ae=k==="top"?g:Z-g,Ze=j;Ze>=0;Ze-=1){var Ce=l(R[Ze]),he=D.get(Ce);if(he===void 0){N=!0;break}if(ae-=he,ae<=0)break}switch(k){case"top":K=T-g;break;case"bottom":K=W-Z+g;break;default:{var Pe=h.current.scrollTop,Me=Pe+Z;T<Pe?U="top":W>Me&&(U="bottom")}}K!==null&&E(K),K!==t.lastTop&&(N=!0)}N&&a((0,ie.Z)((0,ie.Z)({},t),{},{times:t.times+1,targetAlign:U,lastTop:K}))}},[t,h.current]),function(r){if(r==null){e();return}if(te.Z.cancel(u.current),typeof r=="number")E(r);else if(r&&(0,Q.Z)(r)==="object"){var c,v=r.align;"index"in r?c=r.index:c=R.findIndex(function(N){return l(N)===r.key});var g=r.offset,Z=g===void 0?0:g;a({times:0,index:c,offset:Z,originAlign:v})}}}function de(h,R,D,b){var l=D-h,p=R-D,E=Math.min(l,p)*2;if(b<=E){var e=Math.floor(b/2);return b%2?D+e+1:D-e}return l>p?D-(b-p):D+(b-l)}function B(h,R,D){var b=h.length,l=R.length,p,E;if(b===0&&l===0)return null;b<l?(p=h,E=R):(p=R,E=h);var e={__EMPTY_ITEM__:!0};function u(c){return c!==void 0?D(c):e}for(var O=null,x=Math.abs(b-l)!==1,t=0;t<E.length;t+=1){var a=u(p[t]),r=u(E[t]);if(a!==r){O=t,x=x||a!==u(E[t+1]);break}}return O===null?null:{index:O,multiple:x}}function ue(h,R,D){var b=o.useState(h),l=(0,se.Z)(b,2),p=l[0],E=l[1],e=o.useState(null),u=(0,se.Z)(e,2),O=u[0],x=u[1];return o.useEffect(function(){var t=B(p||[],h||[],R);(t==null?void 0:t.index)!==void 0&&(D==null||D(t.index),x(h[t.index])),E(h)},[h]),[O]}var d=(typeof navigator=="undefined"?"undefined":(0,Q.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),f=d,L=function(h,R){var D=(0,o.useRef)(!1),b=(0,o.useRef)(null);function l(){clearTimeout(b.current),D.current=!0,b.current=setTimeout(function(){D.current=!1},50)}var p=(0,o.useRef)({top:h,bottom:R});return p.current.top=h,p.current.bottom=R,function(E){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=E<0&&p.current.top||E>0&&p.current.bottom;return e&&u?(clearTimeout(b.current),D.current=!1):(!u||D.current)&&l(),!D.current&&u}};function $(h,R,D,b,l){var p=(0,o.useRef)(0),E=(0,o.useRef)(null),e=(0,o.useRef)(null),u=(0,o.useRef)(!1),O=L(R,D);function x(g,Z){te.Z.cancel(E.current),p.current+=Z,e.current=Z,!O(Z)&&(f||g.preventDefault(),E.current=(0,te.Z)(function(){var N=u.current?10:1;l(p.current*N),p.current=0}))}function t(g,Z){l(Z,!0),f||g.preventDefault()}var a=(0,o.useRef)(null),r=(0,o.useRef)(null);function c(g){if(h){te.Z.cancel(r.current),r.current=(0,te.Z)(function(){a.current=null},2);var Z=g.deltaX,N=g.deltaY,U=g.shiftKey,K=Z,k=N;(a.current==="sx"||!a.current&&U&&N&&!Z)&&(K=N,k=0,a.current="sx");var ee=Math.abs(K),T=Math.abs(k);a.current===null&&(a.current=b&&ee>T?"x":"y"),a.current==="y"?x(g,k):t(g,K)}}function v(g){h&&(u.current=g.detail===e.current)}return[c,v]}var z=14/15;function Ee(h,R,D){var b=(0,o.useRef)(!1),l=(0,o.useRef)(0),p=(0,o.useRef)(null),E=(0,o.useRef)(null),e,u=function(a){if(b.current){var r=Math.ceil(a.touches[0].pageY),c=l.current-r;l.current=r,D(c)&&a.preventDefault(),clearInterval(E.current),E.current=setInterval(function(){c*=z,(!D(c,!0)||Math.abs(c)<=.1)&&clearInterval(E.current)},16)}},O=function(){b.current=!1,e()},x=function(a){e(),a.touches.length===1&&!b.current&&(b.current=!0,l.current=Math.ceil(a.touches[0].pageY),p.current=a.target,p.current.addEventListener("touchmove",u),p.current.addEventListener("touchend",O))};e=function(){p.current&&(p.current.removeEventListener("touchmove",u),p.current.removeEventListener("touchend",O))},(0,F.Z)(function(){return h&&R.current.addEventListener("touchstart",x),function(){var t;(t=R.current)===null||t===void 0||t.removeEventListener("touchstart",x),e(),clearInterval(E.current)}},[h])}var Se=20;function J(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=h/R*h;return isNaN(D)&&(D=0),D=Math.max(D,Se),Math.floor(D)}function Ne(h,R,D,b){var l=o.useMemo(function(){return[new Map,[]]},[h,D.id,b]),p=(0,se.Z)(l,2),E=p[0],e=p[1],u=function(x){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x,a=E.get(x),r=E.get(t);if(a===void 0||r===void 0)for(var c=h.length,v=e.length;v<c;v+=1){var g,Z=h[v],N=R(Z);E.set(N,v);var U=(g=D.get(N))!==null&&g!==void 0?g:b;if(e[v]=(e[v-1]||0)+U,N===x&&(a=v),N===t&&(r=v),a!==void 0&&r!==void 0)break}return{top:e[a-1]||0,bottom:e[r]}};return u}var Ke=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],He=[],Be={overflowY:"auto",overflowAnchor:"none"};function Ge(h,R){var D=h.prefixCls,b=D===void 0?"rc-virtual-list":D,l=h.className,p=h.height,E=h.itemHeight,e=h.fullHeight,u=e===void 0?!0:e,O=h.style,x=h.data,t=h.children,a=h.itemKey,r=h.virtual,c=h.direction,v=h.scrollWidth,g=h.component,Z=g===void 0?"div":g,N=h.onScroll,U=h.onVirtualScroll,K=h.onVisibleChange,k=h.innerProps,ee=h.extraRender,T=h.styles,W=(0,I.Z)(h,Ke),j=!!(r!==!1&&p&&E),G=j&&x&&(E*x.length>p||!!v),ve=c==="rtl",ge=S()(b,(0,fe.Z)({},"".concat(b,"-rtl"),ve),l),ae=x||He,Ze=(0,o.useRef)(),Ce=(0,o.useRef)(),he=(0,o.useState)(0),Pe=(0,se.Z)(he,2),Me=Pe[0],Ie=Pe[1],Fe=(0,o.useState)(0),Oe=(0,se.Z)(Fe,2),we=Oe[0],Ye=Oe[1],nt=(0,o.useState)(!1),rt=(0,se.Z)(nt,2),st=rt[0],ze=rt[1],Re=function(){ze(!0)},$e=function(){ze(!1)},be=o.useCallback(function(V){return typeof a=="function"?a(V):V==null?void 0:V[a]},[a]),Te={getKey:be};function Ue(V){Ie(function(X){var me;typeof V=="function"?me=V(X):me=V;var _e=Ht(me);return Ze.current.scrollTop=_e,_e})}var Xe=(0,o.useRef)({start:0,end:ae.length}),Je=(0,o.useRef)(),lt=ue(ae,be),yt=(0,se.Z)(lt,1),ft=yt[0];Je.current=ft;var mt=w(be,null,null),qe=(0,se.Z)(mt,4),vt=qe[0],at=qe[1],ot=qe[2],ht=qe[3],Qe=o.useMemo(function(){if(!j)return{scrollHeight:void 0,start:0,end:ae.length-1,offset:void 0};if(!G){var V;return{scrollHeight:((V=Ce.current)===null||V===void 0?void 0:V.offsetHeight)||0,start:0,end:ae.length-1,offset:void 0}}for(var X=0,me,_e,ut,Vt=ae.length,Kt=0;Kt<Vt;Kt+=1){var Xt=ae[Kt],Jt=be(Xt),wt=ot.get(Jt),bt=X+(wt===void 0?E:wt);bt>=Me&&me===void 0&&(me=Kt,_e=X),bt>Me+p&&ut===void 0&&(ut=Kt),X=bt}return me===void 0&&(me=0,_e=0,ut=Math.ceil(p/E)),ut===void 0&&(ut=ae.length-1),ut=Math.min(ut+1,ae.length-1),{scrollHeight:X,start:me,end:ut,offset:_e}},[G,j,Me,ae,ht,p]),it=Qe.scrollHeight,xe=Qe.start,je=Qe.end,et=Qe.offset;Xe.current.start=xe,Xe.current.end=je;var dt=o.useState({width:0,height:p}),tt=(0,se.Z)(dt,2),Ae=tt[0],gt=tt[1],pt=function(X){gt({width:X.width||X.offsetWidth,height:X.height||X.offsetHeight})},ct=(0,o.useRef)(),St=(0,o.useRef)(),$t=o.useMemo(function(){return J(Ae.width,v)},[Ae.width,v]),Ut=o.useMemo(function(){return J(Ae.height,it)},[Ae.height,it]),Zt=it-p,Ct=(0,o.useRef)(Zt);Ct.current=Zt;function Ht(V){var X=V;return Number.isNaN(Ct.current)||(X=Math.min(X,Ct.current)),X=Math.max(X,0),X}var Pt=Me<=0,Ot=Me>=Zt,Wt=L(Pt,Ot),xt=function(){return{x:ve?-we:we,y:Me}},Dt=(0,o.useRef)(xt()),Nt=(0,C.zX)(function(){if(U){var V=xt();(Dt.current.x!==V.x||Dt.current.y!==V.y)&&(U(V),Dt.current=V)}});function Rt(V,X){var me=V;X?((0,ke.flushSync)(function(){Ye(me)}),Nt()):Ue(me)}function Bt(V){var X=V.currentTarget.scrollTop;X!==Me&&Ue(X),N==null||N(V),Nt()}var kt=function(X){var me=X,_e=v-Ae.width;return me=Math.max(me,0),me=Math.min(me,_e),me},Ft=(0,C.zX)(function(V,X){X?((0,ke.flushSync)(function(){Ye(function(me){var _e=me+(ve?-V:V);return kt(_e)})}),Nt()):Ue(function(me){var _e=me+V;return _e})}),zt=$(j,Pt,Ot,!!v,Ft),Tt=(0,se.Z)(zt,2),Mt=Tt[0],Lt=Tt[1];Ee(j,Ze,function(V,X){return Wt(V,X)?!1:(Mt({preventDefault:function(){},deltaY:V}),!0)}),(0,F.Z)(function(){function V(me){j&&me.preventDefault()}var X=Ze.current;return X.addEventListener("wheel",Mt),X.addEventListener("DOMMouseScroll",Lt),X.addEventListener("MozMousePixelScroll",V),function(){X.removeEventListener("wheel",Mt),X.removeEventListener("DOMMouseScroll",Lt),X.removeEventListener("MozMousePixelScroll",V)}},[j]),(0,F.Z)(function(){v&&Ye(function(V){return kt(V)})},[Ae.width,v]);var It=function(){var X,me;(X=ct.current)===null||X===void 0||X.delayHidden(),(me=St.current)===null||me===void 0||me.delayHidden()},At=n(Ze,ae,ot,E,be,function(){return at(!0)},Ue,It);o.useImperativeHandle(R,function(){return{getScrollInfo:xt,scrollTo:function(X){function me(_e){return _e&&(0,Q.Z)(_e)==="object"&&("left"in _e||"top"in _e)}me(X)?(X.left!==void 0&&Ye(kt(X.left)),At(X.top)):At(X)}}}),(0,F.Z)(function(){if(K){var V=ae.slice(xe,je+1);K(V,ae)}},[xe,je,ae]);var jt=Ne(ae,be,ot,E),Gt=ee==null?void 0:ee({start:xe,end:je,virtual:G,offsetX:we,offsetY:et,rtl:ve,getSize:jt}),Yt=ce(ae,xe,je,v,vt,t,Te),Et=null;p&&(Et=(0,ie.Z)((0,fe.Z)({},u?"height":"maxHeight",p),Be),j&&(Et.overflowY="hidden",v&&(Et.overflowX="hidden"),st&&(Et.pointerEvents="none")));var _t={};return ve&&(_t.dir="rtl"),o.createElement("div",(0,pe.Z)({style:(0,ie.Z)((0,ie.Z)({},O),{},{position:"relative"}),className:ge},_t,W),o.createElement(Y.Z,{onResize:pt},o.createElement(Z,{className:"".concat(b,"-holder"),style:Et,ref:Ze,onScroll:Bt,onMouseEnter:It},o.createElement(M,{prefixCls:b,height:it,offsetX:we,offsetY:et,scrollWidth:v,onInnerResize:at,ref:Ce,innerProps:k,rtl:ve,extra:Gt},Yt))),G&&it>p&&o.createElement(ye,{ref:ct,prefixCls:b,scrollOffset:Me,scrollRange:it,rtl:ve,onScroll:Rt,onStartMove:Re,onStopMove:$e,spinSize:Ut,containerSize:Ae.height,style:T==null?void 0:T.verticalScrollBar,thumbStyle:T==null?void 0:T.verticalScrollBarThumb}),G&&v>Ae.width&&o.createElement(ye,{ref:St,prefixCls:b,scrollOffset:we,scrollRange:v,rtl:ve,onScroll:Rt,onStartMove:Re,onStopMove:$e,spinSize:$t,containerSize:Ae.width,horizontal:!0,style:T==null?void 0:T.horizontalScrollBar,thumbStyle:T==null?void 0:T.horizontalScrollBarThumb}))}var oe=o.forwardRef(Ge);oe.displayName="List";var Le=oe,We=Le},89514:function(Ve,De,s){s.d(De,{Z:function(){return fe}});var pe=s(45442),ie=s(36831),Q=s(658),se=s(97883);function fe(I){return(0,pe.Z)(I)||(0,ie.Z)(I)||(0,Q.Z)(I)||(0,se.Z)()}}}]);
